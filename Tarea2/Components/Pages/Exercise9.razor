@page "/exercise9"
@attribute [StreamRendering]
@rendermode InteractiveServer

<h3>Ejercicio 9</h3>


<h3>Verificar Factorial de un Dígito</h3>

<p>Introduce un número:</p>
<input @bind="numero" type="number" />

<p>Introduce un valor para verificar:</p>
<input @bind="valor" type="number" />

<button @onclick="VerificarFactorial">Verificar</button>

<p>El resultado es: @resultado</p>

@code {
    private int numero;
    private int valor;
    private int resultado;

    private void VerificarFactorial()
    {
        resultado = EsFactorialDeDigitos(numero, valor);
    }

    public static int EsFactorialDeDigitos(int numero, int valor)
    {
        
        string numeroStr = Math.Abs(numero).ToString(); 

        foreach (char digitoChar in numeroStr)
        {
            int digito = digitoChar - '0';
            int factorial = CalcularFactorial(digito);

            if (factorial == valor)
            {
                return 1; 
            }
        }

        return 0; 
    }

    public static int CalcularFactorial(int n)
    {
        if (n == 0 || n == 1)
        {
            return 1; // 0! y 1! son 1
        }
        int factorial = 1;
        for (int i = 2; i <= n; i++)
        {
            factorial *= i;
        }
        return factorial;
    }
}
